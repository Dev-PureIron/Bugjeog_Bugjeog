<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비밀번호 재설정 창</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.6/dist/web/variable/pretendardvariable.css" />
    <link rel="stylesheet" href="../../static/css/new_password/new_password.css">
</head>
<body>
    <div id="__next">
        <div class="password-all-wrap">
            <div class="password-middle-wrap">
                <div class="password-square-wrap">
                    <div class="pw-top-square">
                        <div class="pw-left">
                            <button type="button" class="pw-left-box">
                                <span class="pw-left-inside">
                                    <svg viewBox="0 0 18 18" class="pw-left-arrow"><path d="m6.045 9 5.978-5.977a.563.563 0 1 0-.796-.796L4.852 8.602a.562.562 0 0 0 0 .796l6.375 6.375a.563.563 0 0 0 .796-.796L6.045 9z"></path></svg>
                                </span>
                            </button>
                        </div>
                        <div class="pw-remake-box">
                           <p class="pw-remake-ment">비밀번호 재설정</p>     
                        </div>
                        <div class="pw-right-side"></div>
                    </div>
                     <div class="pw-mid-box"> 
                        <form>
                            <div class="pw-new-ment-line">
                                <label class="pw-new-ment">새 비밀번호</label>
                            </div>
                            <input type="password" placeholder="새 비밀번호를 입력해주세요." name="password" class="pw-write-new" value>
                            <p class="pw-wrong-num"></p>
                            <input type="password" placeholder="새 비밀번호를 다시 한번 입력해주세요." name="passwordConfirm" class="pw-write-new" value>
                            <p class="pw-reCheck"></p>
                            <p class="pw-guide-ment">
                                영문 대소문자, 숫자, 특수문자를 3가지 이상으로 조합해 8자 이상 16자 이하로 입력해주세요.
                            </p>
                            <button type="submit" class="pw-countinue-border" disabled>
                                <span class="pw-countinue-ment">계속</span>
                            </button>
                        </form>
                     </div>   
                </div>
            </div>
        </div>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
<script>


    // 비밀번호 

const $password = $(".pw-write-new");
const $errorMessagePassword = $(".pw-wrong-num");
console.log("들어옴")
    $password.on("blur", function(){
        var passwordValue = $password.val();   
        var rgbPassword = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/;
            console.log("들어옴")

        if(passwordValue.length == 0){    // 빈문자열이 들어왔을 때
            $errorMessagePassword.css("display", "block");
            $errorMessagePassword.css("color", "red");
            $errorMessagePassword.text("비밀번호를 입력해주세요.");
        } else if(!rgbPassword.test(passwordValue)){
            $errorMessagePassword.css("display", "none");
            $errorMessagePassword.css("color", "red");
            $errorMessagePassword.text("최소 8 자, 하나 이상의 문자, 하나의 숫자 및 하나의 특수 문자를 입력해주세요.");
        }else {
            $errorMessagePassword.css("display", "none");
        }
    });

// 비밀번호 확인  

const $passwordCheck = $("input[name=passwordConfirm]");
const $errorMessagePasswordCheck = $(".pw-reCheck");
    
$passwordCheck.on("blur", function(){
    const $passwordCheck = $("input[name=passwordConfirm]");
    var passwordValue = $password.val(); 
    var passwordCheckValue = $passwordCheck.val();

    if(passwordCheckValue.length == 0){    // 빈문자열이 들어왔을 때
        $errorMessagePasswordCheck.css("display", "block");
        $errorMessagePasswordCheck.css("color", "red");
        $errorMessagePasswordCheck.text("비밀번호를 입력해주세요.");

    } else if(!(passwordCheckValue == passwordValue)){  
        $errorMessagePasswordCheck.css("display", "block");
        $errorMessagePasswordCheck.css("color", "red");  // 올바른 비밀번호 형식이 아닐 때
        $errorMessagePasswordCheck.text("비밀번호가 일치 하지않습니다.");
        
    } else {
        $errorMessagePasswordCheck.css("display", "none");
    }
});



</script>
</html>